// Generated by CoffeeScript 1.6.3
(function() {
  var Photo, root;

  root = typeof exports !== "undefined" && exports !== null ? exports : this;

  Photo = (function() {
    function Photo(entry, parent, remove) {
      this.entry = entry;
      this.parent = parent;
      this.remove = remove;
      this.id = "photo_" + new Date().getTime();
      this.url = this.entry.media.m;
      this.title = this.entry.title === "" ? "Ohne titel" : entry.title;
      this.author = this.entry.author;
      this.buildPhoto();
    }

    Photo.prototype.buildPhoto = function() {
      var li,
        _this = this;
      li = $("<li class=\"photo\" id=\"" + this.id + "\">").css({
        display: 'none'
      });
      li.append("<img src=\"" + this.url + "\" />");
      li.append("<h1>" + this.title + "</h1>");
      li.append("<h2>" + this.author + "</h2>");
      li.append("<a href=\"" + this.id + "\">Remove photo</a>");
      this.parent.prepend(li);
      li.on('click', 'a', function(e) {
        e.preventDefault();
        return _this.remove(_this);
      });
      return this;
    };

    Photo.prototype.showPhoto = function() {
      return this.parent.find("#" + this.id).fadeIn('fast');
    };

    Photo.prototype.hidePhoto = function() {
      return this.parent.find("#" + this.id).fadeOut('fast', function() {
        return $(this).remove();
      });
    };

    return Photo;

  })();

  if (typeof module === 'object' && module && typeof module.exports === 'object') {
    module.exports = Photo;
  } else if (typeof exports === 'object' && exports) {
    exports.Photo = Photo;
  } else if (typeof define === 'function' && define.amd) {
    define('box', [], function() {
      return Photo;
    });
  } else {
    root.Photo = Photo;
  }

}).call(this);
